<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-ëŸ¬ë‹ì´ ë­ì•¼? - Section 7</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
        .breadcrumb { margin-bottom: 24px; font-size: 0.9rem; }
        .breadcrumb a { color: #666; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 8px; }
        .header { margin-bottom: 48px; }
        .topic-number {
            display: inline-block;
            background: #FF5722;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }
        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #FF5722;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #ffebe9;
        }
        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before { content: "Q. "; color: #e65100; font-weight: 700; }
        .a { padding: 8px 0 8px 20px; border-left: 4px solid #e0e0e0; margin: 12px 0; }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }
        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #ffccbc;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #d84315;
        }
        .warning {
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c62828;
        }
        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9rem;
        }
        .compare-table th, .compare-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        .compare-table th { background: #f5f5f5; font-weight: 600; }
        .summary-box {
            background: linear-gradient(135deg, #FF5722 0%, #FF7043 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 { font-size: 1.2rem; margin-bottom: 20px; }
        .summary-box ul { list-style: none; }
        .summary-box li { padding: 8px 0; padding-left: 24px; position: relative; }
        .summary-box li::before { content: "â†’"; position: absolute; left: 0; color: #ffccbc; }
        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a { color: #FF5722; text-decoration: none; font-weight: 500; }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../">AI ê³µë¶€</a>
            <span>/</span>
            <a href="../">Section 7</a>
            <span>/</span>
            Topic 08
        </nav>

        <header class="header">
            <div class="topic-number">TOPIC 08</div>
            <h1>Q-ëŸ¬ë‹ì´ ë­ì•¼?</h1>
            <p>Q. í…Œì´ë¸”ë¡œ í•™ìŠµí•œë‹¤ëŠ” ê±°ì•¼?</p>
        </header>

        <div class="conversation">
            <h2>Part 1. Q-ëŸ¬ë‹ì´ë€?</h2>

            <div class="chat">
                <div class="q">Q-ëŸ¬ë‹(Q-Learning)ì´ ë­ì•¼?</div>
                <div class="a">
                    <p><span class="key-point">Q-ëŸ¬ë‹ì€ Qê°’(í–‰ë™ ê°€ì¹˜)ì„ í•™ìŠµí•˜ëŠ” ê°€ì¥ ê³ ì „ì ì¸ ê°•í™”í•™ìŠµ ì•Œê³ ë¦¬ì¦˜</span>ì´ì•¼.</p>
                    <p>1989ë…„ì— ê°œë°œëëŠ”ë°, ì§€ê¸ˆë„ ê°•í™”í•™ìŠµì˜ ê¸°ë³¸ì´ ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ì§€.</p>
                </div>
            </div>

            <div class="code-block">Q-ëŸ¬ë‹ í•µì‹¬ ì•„ì´ë””ì–´:

1. Q í…Œì´ë¸”ì„ ë§Œë“ ë‹¤
   â†’ ëª¨ë“  (ìƒíƒœ, í–‰ë™) ìŒì˜ ê°€ì¹˜ë¥¼ ì €ì¥

2. í™˜ê²½ê³¼ ìƒí˜¸ì‘ìš©í•œë‹¤
   â†’ í–‰ë™í•˜ê³ , ë³´ìƒ ë°›ê³ , ìƒˆ ìƒíƒœ ê´€ì°°

3. Qê°’ì„ ì—…ë°ì´íŠ¸í•œë‹¤
   â†’ ë²¨ë§Œ ë°©ì •ì‹ ì‚¬ìš©

4. ë°˜ë³µí•œë‹¤
   â†’ ì ì  Qê°’ì´ ì •í™•í•´ì§

5. ìµœì  ì •ì±… íšë“
   â†’ Qê°’ì´ ê°€ì¥ í° í–‰ë™ ì„ íƒ</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">Q-ëŸ¬ë‹ì€ "í…Œì´ë¸”"ì— Qê°’ì„ ì €ì¥</span>í•´.</p>
                    <p>ê·¸ë˜ì„œ <strong>ìƒíƒœê°€ ì ì€ ê°„ë‹¨í•œ ë¬¸ì œ</strong>ì— ì í•©í•´.</p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 2. Q í…Œì´ë¸”</h2>

            <div class="chat">
                <div class="q">Q í…Œì´ë¸”ì´ ë­ì•¼?</div>
                <div class="a">
                    <p><span class="key-point">ëª¨ë“  ìƒíƒœ-í–‰ë™ ìŒì˜ Qê°’ì„ ì €ì¥í•˜ëŠ” í‘œ</span>ì•¼.</p>
                </div>
            </div>

            <div class="code-block">Q í…Œì´ë¸” ì˜ˆì‹œ (ê·¸ë¦¬ë“œì›”ë“œ):

        í–‰ë™: ìœ„    ì•„ë˜   ì¢Œ    ìš°
ìƒíƒœ 1:  [0.5,  0.2,  0.1,  0.8]
ìƒíƒœ 2:  [0.3,  0.7,  0.4,  0.2]
ìƒíƒœ 3:  [0.9,  0.1,  0.6,  0.3]
ìƒíƒœ 4:  [0.0,  1.0,  0.0,  0.0]  â† ëª©í‘œ!

â†’ ìƒíƒœ 1ì—ì„œ "ìš°"ê°€ ê°€ì¥ ì¢‹ìŒ (0.8)
â†’ ìƒíƒœ 2ì—ì„œ "ì•„ë˜"ê°€ ê°€ì¥ ì¢‹ìŒ (0.7)
â†’ ìƒíƒœ 3ì—ì„œ "ìœ„"ê°€ ê°€ì¥ ì¢‹ìŒ (0.9)</div>

            <div class="code-block">ì´ˆê¸°í™”:

# Q í…Œì´ë¸” ìƒì„±
Q = {}
for state in all_states:
    for action in all_actions:
        Q[(state, action)] = 0.0  # ëª¨ë‘ 0ìœ¼ë¡œ ì‹œì‘

# ë˜ëŠ” ëœë¤ ì´ˆê¸°í™”
Q[(state, action)] = random()</div>

            <div class="chat">
                <div class="q">í…Œì´ë¸” í¬ê¸°ëŠ”?</div>
                <div class="a">
                    <p>í¬ê¸° = ìƒíƒœ ìˆ˜ Ã— í–‰ë™ ìˆ˜</p>
                    <p>ìƒíƒœ 100ê°œ, í–‰ë™ 4ê°œ â†’ 400ì¹¸ í…Œì´ë¸”</p>
                    <p><span class="warning">ìƒíƒœê°€ ë§ìœ¼ë©´ í…Œì´ë¸”ì´ ì—„ì²­ ì»¤ì§!</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 3. Q-ëŸ¬ë‹ ì—…ë°ì´íŠ¸ ê³µì‹</h2>

            <div class="chat">
                <div class="q">Qê°’ì„ ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í•´?</div>
                <div class="a">
                    <p>í•µì‹¬ ê³µì‹ì€ ì´ê±°ì•¼.</p>
                </div>
            </div>

            <div class="code-block">Q-ëŸ¬ë‹ ì—…ë°ì´íŠ¸:

Q(s, a) â† Q(s, a) + Î± Ã— [R + Î³ Ã— max Q(s', a') - Q(s, a)]
                                    a'

ìš©ì–´ ì„¤ëª…:
- s: í˜„ì¬ ìƒíƒœ
- a: ì„ íƒí•œ í–‰ë™
- R: ë°›ì€ ë³´ìƒ
- s': ë‹¤ìŒ ìƒíƒœ
- a': ë‹¤ìŒ ìƒíƒœì—ì„œ ê°€ëŠ¥í•œ í–‰ë™
- Î±: í•™ìŠµë¥  (0~1)
- Î³: í• ì¸ ê³„ìˆ˜ (0~1)


ê°„ë‹¨íˆ:
ìƒˆ Qê°’ = ê¸°ì¡´ Qê°’ + í•™ìŠµë¥  Ã— (ëª©í‘œ - ê¸°ì¡´ Qê°’)

ëª©í‘œ = ì¦‰ê° ë³´ìƒ + í• ì¸ëœ ìµœì„ ì˜ ë¯¸ë˜ Qê°’</div>

            <div class="code-block">ì˜ˆì‹œ ê³„ì‚°:

í˜„ì¬:
Q(s=1, a=ìš°) = 0.5

ê²½í—˜:
â†’ "ìš°"ë¡œ ì´ë™
â†’ ë³´ìƒ R = 10
â†’ ë‹¤ìŒ ìƒíƒœ s' = 2
â†’ Q(s'=2, ìœ„) = 0.3
â†’ Q(s'=2, ì•„ë˜) = 0.7  â† ìµœëŒ€
â†’ Q(s'=2, ì¢Œ) = 0.4
â†’ Q(s'=2, ìš°) = 0.2

ì—…ë°ì´íŠ¸ (Î±=0.1, Î³=0.9):
Q(s=1, a=ìš°) â† 0.5 + 0.1 Ã— [10 + 0.9 Ã— 0.7 - 0.5]
            = 0.5 + 0.1 Ã— [10 + 0.63 - 0.5]
            = 0.5 + 0.1 Ã— 10.13
            = 0.5 + 1.013
            = 1.513

â†’ Qê°’ì´ 0.5ì—ì„œ 1.513ìœ¼ë¡œ ì¦ê°€!</div>
        </div>

        <div class="conversation">
            <h2>Part 4. Q-ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜</h2>

            <div class="chat">
                <div class="q">ì „ì²´ ì•Œê³ ë¦¬ì¦˜ì€ ì–´ë–»ê²Œ ë¼?</div>
                <div class="a">
                    <p>ë‹¨ê³„ë³„ë¡œ ë³´ì.</p>
                </div>
            </div>

            <div class="code-block">Q-ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜:

# ì´ˆê¸°í™”
Q í…Œì´ë¸”ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™”
í•˜ì´í¼íŒŒë¼ë¯¸í„° ì„¤ì •: Î±, Î³, Îµ

# í•™ìŠµ ë£¨í”„
for episode in range(num_episodes):
    state = env.reset()  # ì´ˆê¸° ìƒíƒœ

    while not done:
        # 1. í–‰ë™ ì„ íƒ (Îµ-greedy)
        if random() < Îµ:
            action = random_action()
        else:
            action = argmax Q(state, a)
                     a

        # 2. í–‰ë™ ì‹¤í–‰
        next_state, reward, done = env.step(action)

        # 3. Qê°’ ì—…ë°ì´íŠ¸
        best_next = max Q(next_state, a')
                    a'

        Q(state, action) += Î± Ã— (
            reward + Î³ Ã— best_next - Q(state, action)
        )

        # 4. ìƒíƒœ ì „ì´
        state = next_state

    # Îµ ê°ì†Œ (íƒí—˜ ì¤„ì´ê¸°)
    Îµ = max(Îµ_min, Îµ Ã— Îµ_decay)</div>

            <div class="code-block">íŒŒì´ì¬ êµ¬í˜„:

import numpy as np

class QLearning:
    def __init__(self, n_states, n_actions):
        self.Q = np.zeros((n_states, n_actions))
        self.alpha = 0.1
        self.gamma = 0.9
        self.epsilon = 1.0

    def select_action(self, state):
        if np.random.random() < self.epsilon:
            return np.random.randint(self.Q.shape[1])
        else:
            return np.argmax(self.Q[state])

    def update(self, state, action, reward, next_state):
        best_next = np.max(self.Q[next_state])
        td_target = reward + self.gamma * best_next
        td_error = td_target - self.Q[state, action]
        self.Q[state, action] += self.alpha * td_error

# ì‚¬ìš©
agent = QLearning(n_states=100, n_actions=4)
for episode in range(1000):
    state = env.reset()
    while not done:
        action = agent.select_action(state)
        next_state, reward, done = env.step(action)
        agent.update(state, action, reward, next_state)
        state = next_state</div>
        </div>

        <div class="conversation">
            <h2>Part 5. Q-ëŸ¬ë‹ì˜ íŠ¹ì§•</h2>

            <div class="chat">
                <div class="q">Q-ëŸ¬ë‹ì˜ ì¥ë‹¨ì ì€?</div>
                <div class="a">
                    <p>ëª…í™•í•œ ì¥ë‹¨ì ì´ ìˆì–´.</p>
                </div>
            </div>

            <table class="compare-table">
                <tr>
                    <th>ì¥ì </th>
                    <th>ë‹¨ì </th>
                </tr>
                <tr>
                    <td><strong>Off-Policy</strong><br/>ë‹¤ë¥¸ ì •ì±…ìœ¼ë¡œ ìˆ˜ì§‘í•œ ê²½í—˜ë„ í•™ìŠµ ê°€ëŠ¥</td>
                    <td><strong>í° ìƒíƒœ ê³µê°„ ë¶ˆê°€</strong><br/>í…Œì´ë¸” í¬ê¸°ê°€ ê¸°í•˜ê¸‰ìˆ˜ì  ì¦ê°€</td>
                </tr>
                <tr>
                    <td><strong>ê°„ë‹¨í•¨</strong><br/>ì´í•´í•˜ê³  êµ¬í˜„í•˜ê¸° ì‰¬ì›€</td>
                    <td><strong>ëŠë¦° ìˆ˜ë ´</strong><br/>ëª¨ë“  ìƒíƒœë¥¼ ë°©ë¬¸í•´ì•¼ í•¨</td>
                </tr>
                <tr>
                    <td><strong>ìµœì  ë³´ì¥</strong><br/>ë¬´í•œíˆ í•™ìŠµí•˜ë©´ ìµœì  ì •ì±… ë„ë‹¬</td>
                    <td><strong>ì—°ì† ìƒíƒœ ë¶ˆê°€</strong><br/>ì´ì‚° ìƒíƒœë§Œ ê°€ëŠ¥</td>
                </tr>
                <tr>
                    <td><strong>ê²½í—˜ ì¬ì‚¬ìš©</strong><br/>ê³¼ê±° ê²½í—˜ì„ replay ê°€ëŠ¥</td>
                    <td><strong>ë©”ëª¨ë¦¬ í•œê³„</strong><br/>ëŒ€ê·œëª¨ ë¬¸ì œ ì ìš© ì–´ë ¤ì›€</td>
                </tr>
            </table>

            <div class="chat">
                <div class="q">ê·¸ëŸ¼ ì–¸ì œ ì¨?</div>
                <div class="a">
                    <p><span class="highlight">ê°„ë‹¨í•œ í™˜ê²½</span>ì— ì í•©í•´.</p>
                </div>
            </div>

            <div class="code-block">Q-ëŸ¬ë‹ ì ìš© ê°€ëŠ¥:
âœ… ê·¸ë¦¬ë“œ ì›”ë“œ (10Ã—10)
âœ… í‹±íƒí†  ê²Œì„
âœ… ê°„ë‹¨í•œ ë¯¸ë¡œ
âœ… Frozen Lake

Q-ëŸ¬ë‹ ì ìš© ë¶ˆê°€:
âŒ ì•„íƒ€ë¦¬ ê²Œì„ (í™”ë©´ í”½ì…€ì´ ìƒíƒœ)
âŒ ì²´ìŠ¤ (10^47 ê°€ì§€ ìƒíƒœ)
âŒ ë¡œë´‡ ì œì–´ (ì—°ì† ìƒíƒœ)
âŒ ììœ¨ì£¼í–‰ (ë¬´í•œ ìƒíƒœ)

â†’ ì´ëŸ° ë¬¸ì œëŠ” DQN, PPO ë“± ì‚¬ìš©</div>
        </div>

        <div class="conversation">
            <h2>Part 6. Q-ëŸ¬ë‹ ì‹¤ìŠµ ì˜ˆì œ</h2>

            <div class="chat">
                <div class="q">ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë³´ì—¬ì¤˜.</div>
                <div class="a">
                    <p>4Ã—4 ê·¸ë¦¬ë“œ ì›”ë“œ ì˜ˆì œì•¼.</p>
                </div>
            </div>

            <div class="code-block">ë¬¸ì œ ì„¤ì •:

â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ S â”‚   â”‚   â”‚   â”‚  S: ì‹œì‘
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚   â”‚ X â”‚   â”‚   â”‚  X: í•¨ì • (-10)
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚   â”‚   â”‚ X â”‚   â”‚  G: ëª©í‘œ (+10)
â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤
â”‚   â”‚   â”‚   â”‚ G â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

í–‰ë™: ìœ„, ì•„ë˜, ì¢Œ, ìš°
ë³´ìƒ: ì´ë™ -1, í•¨ì • -10, ëª©í‘œ +10</div>

            <div class="code-block">í•™ìŠµ ê³¼ì •:

ì—í”¼ì†Œë“œ 1:
â†’ ëœë¤ ì›€ì§ì„
â†’ Q í…Œì´ë¸” ê±°ì˜ 0

ì—í”¼ì†Œë“œ 100:
â†’ ê°€ë” ëª©í‘œ ë„ë‹¬
â†’ ëª©í‘œ ê·¼ì²˜ Qê°’ ì¦ê°€

ì—í”¼ì†Œë“œ 500:
â†’ í•¨ì • íšŒí”¼ í•™ìŠµ
â†’ ìµœì  ê²½ë¡œ ë°œê²¬

ì—í”¼ì†Œë“œ 1000:
â†’ í•­ìƒ ìµœë‹¨ ê²½ë¡œë¡œ ëª©í‘œ ë„ë‹¬
â†’ Q í…Œì´ë¸” ìˆ˜ë ´</div>

            <div class="code-block">ìµœì¢… Q í…Œì´ë¸” (ì¼ë¶€):

ìƒíƒœ (0,0):
  ìœ„: -5.2
  ì•„ë˜: 3.8  â† ìµœì„ 
  ì¢Œ: -5.0
  ìš°: 2.1

ìƒíƒœ (3,2):
  ìœ„: 4.5
  ì•„ë˜: -10.0  â† í•¨ì •!
  ì¢Œ: 2.3
  ìš°: 8.9  â† ëª©í‘œ ê°€ê¹Œì›€!

â†’ AIê°€ ìµœì  ê²½ë¡œë¥¼ í•™ìŠµ!</div>

            <div class="chat">
                <div class="a">
                    <p>ì´í•´ëì–´?</p>
                    <p><span class="key-point">Q-ëŸ¬ë‹ì€ ê²½í—˜ì„ í†µí•´ Q í…Œì´ë¸”ì„ ì±„ìš°ëŠ” ê²ƒ</span>ì´ì•¼.</p>
                    <p>í…Œì´ë¸”ì´ ì™„ì„±ë˜ë©´ <strong>ìµœì  ì •ì±…ì„ ì–»ëŠ” ê±°ì§€</strong>.</p>
                </div>
            </div>
        </div>

        <div class="summary-box">
            <h3>ğŸ“Œ í•µì‹¬ ì •ë¦¬</h3>
            <ul>
                <li><strong>Q-ëŸ¬ë‹</strong> - Q í…Œì´ë¸”ì„ í•™ìŠµí•˜ëŠ” ê³ ì „ ì•Œê³ ë¦¬ì¦˜</li>
                <li><strong>Q í…Œì´ë¸”</strong> - ëª¨ë“  (ìƒíƒœ, í–‰ë™) ìŒì˜ ê°€ì¹˜ ì €ì¥</li>
                <li><strong>ì—…ë°ì´íŠ¸</strong> - ë²¨ë§Œ ë°©ì •ì‹ìœ¼ë¡œ ì ì§„ì  ê°œì„ </li>
                <li><strong>Off-Policy</strong> - íƒí—˜í•˜ë©´ì„œë„ ìµœì  ì •ì±… í•™ìŠµ</li>
                <li><strong>í•œê³„</strong> - í° ìƒíƒœ ê³µê°„ì—ëŠ” ì ìš© ë¶ˆê°€ â†’ DQN í•„ìš”</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../topic07/">â† ì´ì „: ê°€ì¹˜ í•¨ìˆ˜ê°€ ë­ì•¼?</a>
            <a href="../topic09/">ë‹¤ìŒ: DQNì€ ë­ê°€ ë‹¤ë¥¼ê¹Œ? â†’</a>
        </div>
    </div>
</body>
</html>
