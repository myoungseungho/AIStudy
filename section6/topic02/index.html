<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>토큰화가 뭐야? - Section 6</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }

        .breadcrumb {
            margin-bottom: 24px;
            font-size: 0.9rem;
        }
        .breadcrumb a {
            color: #666;
            text-decoration: none;
        }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 8px; }

        .header { margin-bottom: 48px; }
        .topic-number {
            display: inline-block;
            background: #E91E63;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }

        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #E91E63;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #fce4ec;
        }

        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before {
            content: "Q. ";
            color: #e65100;
            font-weight: 700;
        }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }

        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #fce4ec;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c2185b;
        }
        .warning {
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c62828;
        }

        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9rem;
        }
        .compare-table th, .compare-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        .compare-table th {
            background: #f5f5f5;
            font-weight: 600;
        }

        .summary-box {
            background: linear-gradient(135deg, #E91E63 0%, #EC407A 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        .summary-box ul {
            list-style: none;
        }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #fce4ec;
        }

        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a {
            color: #E91E63;
            text-decoration: none;
            font-weight: 500;
        }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../">AI 공부</a>
            <span>/</span>
            <a href="../">Section 6</a>
            <span>/</span>
            Topic 02
        </nav>

        <header class="header">
            <div class="topic-number">TOPIC 02</div>
            <h1>토큰화가 뭐야?</h1>
            <p>Q. 문장을 어떻게 쪼개?</p>
        </header>

        <!-- Part 1: 토큰화가 뭐야? -->
        <div class="conversation">
            <h2>Part 1. 문장을 쪼개야 하는 이유</h2>

            <div class="chat">
                <div class="q">토큰화(Tokenization)가 뭔데?</div>
                <div class="a">
                    <p><span class="key-point">문장을 작은 조각으로 쪼개는 거야.</span></p>
                    <p>그 작은 조각 하나하나를 "토큰(Token)"이라고 불러.</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">왜 쪼개야 하는데?</div>
                <div class="a">
                    <p>생각해봐. AI가 문장을 처리하려면 어떻게 해야 할까?</p>
                    <p><span class="highlight">문장 전체를 한 번에 처리하기엔 너무 복잡해.</span></p>
                    <p>그래서 작은 단위로 쪼개서 하나씩 처리하는 거지.</p>
                </div>
            </div>

            <div class="code-block">비유:

피자를 먹을 때:
❌ 피자 전체를 입에 넣기 → 불가능
✅ 피자를 조각으로 잘라서 한 조각씩 먹기 → 가능

문장을 처리할 때:
❌ "나는 오늘 아침에 빵을 먹었다" 전체를 한번에 → 복잡함
✅ ["나는", "오늘", "아침에", "빵을", "먹었다"] 각각 처리 → 간단함
</div>
        </div>

        <!-- Part 2: 어떻게 쪼개? -->
        <div class="conversation">
            <h2>Part 2. 어떻게 쪼개는 게 좋을까?</h2>

            <div class="chat">
                <div class="q">그럼 공백 기준으로 쪼개면 되겠네?</div>
                <div class="a">
                    <p><span class="warning">생각보다 복잡해.</span> 여러 방법이 있어.</p>
                </div>
            </div>

            <div class="chat">
                <div class="q">방법 1. 글자 단위 (Character-level)</div>
            </div>

            <div class="code-block">문장: "안녕하세요"

토큰화 결과:
["ㅇ", "ㅏ", "ㄴ", "ㄴ", "ㅕ", "ㅇ", "ㅎ", "ㅏ", "ㅅ", "ㅔ", "ㅇ", "ㅛ"]

또는:

["안", "녕", "하", "세", "요"]

장점:
- 어휘 사전이 작음 (한글 자모 19개 + 영어 알파벳 26개 등)
- 모르는 단어 없음 (모든 글자를 다 표현 가능)

단점:
- 시퀀스가 너무 길어짐
- 의미 단위가 너무 작아서 학습이 어려움
</div>

            <div class="chat">
                <div class="q">방법 2. 단어 단위 (Word-level)</div>
            </div>

            <div class="code-block">문장: "나는 오늘 학교에 갔다"

토큰화 결과:
["나는", "오늘", "학교에", "갔다"]

또는 (조사 분리):
["나", "는", "오늘", "학교", "에", "갔", "다"]

장점:
- 의미 단위가 명확함
- 사람이 이해하기 쉬움

단점:
- 어휘 사전이 엄청 커짐 (수십만 개 단어)
- 신조어, 오타 처리 어려움 ("ㅋㅋㅋ", "ㅇㅈ" 같은 거)
</div>

            <div class="chat">
                <div class="q">방법 3. 서브워드 (Subword-level)</div>
                <div class="a">
                    <p><span class="key-point">현대 AI가 가장 많이 쓰는 방법이야.</span></p>
                    <p>단어도 아니고 글자도 아닌, 그 중간 크기.</p>
                </div>
            </div>

            <div class="code-block">문장: "unhappiness"

토큰화 결과:
["un", "happiness"]
→ "un"(부정 접두사) + "happiness"(행복)

문장: "놀라워요"
["놀", "라워", "요"]

장점:
- 어휘 사전 크기 적절 (보통 3만~5만 개)
- 신조어, 오타도 처리 가능
- 의미 단위도 어느 정도 유지

단점:
- 사람이 보기엔 좀 이상함
</div>
        </div>

        <!-- Part 3: 실제 예시 -->
        <div class="conversation">
            <h2>Part 3. ChatGPT는 어떻게 쪼개?</h2>

            <div class="chat">
                <div class="q">ChatGPT는 어떤 방식을 써?</div>
                <div class="a">
                    <p><span class="highlight">BPE (Byte Pair Encoding)</span>라는 서브워드 방식을 써.</p>
                </div>
            </div>

            <div class="code-block">ChatGPT 토큰화 예시:

입력: "안녕하세요! ChatGPT는 대단해요 ㅎㅎ"

토큰화 결과:
["안녕", "하세요", "!", " Chat", "G", "PT", "는", " 대단", "해요", " ㅎ", "ㅎ"]

주목할 점:
1. 공백도 토큰에 포함 (공백 = " ")
2. 영어는 더 잘게 쪼갬 ("ChatGPT" → "Chat", "G", "PT")
3. 이모티콘/특수문자도 토큰 ("ㅎㅎ" → "ㅎ", "ㅎ")
</div>

            <div class="chat">
                <div class="q">토큰 개수가 왜 중요해?</div>
                <div class="a">
                    <p><span class="warning">토큰 개수 = 비용이야.</span></p>
                    <p>ChatGPT 같은 API는 토큰 개수로 돈을 받거든.</p>
                </div>
            </div>

            <div class="code-block">토큰 개수와 비용:

짧은 문장: "안녕"
→ 토큰: ["안녕"] (1개)
→ 비용: 매우 저렴

긴 문장: "안녕하세요! 오늘 날씨가 정말 좋네요. 산책하기 딱 좋은 날씨예요."
→ 토큰: 약 15~20개
→ 비용: 1개일 때의 15~20배

GPT-4 API 가격 (2024년 기준):
- 입력: 1000 토큰당 $0.03
- 출력: 1000 토큰당 $0.06

→ 토큰을 줄이면 비용도 줄어듦
</div>
        </div>

        <!-- Part 4: 토큰화의 함정 -->
        <div class="conversation">
            <h2>Part 4. 토큰화의 문제점</h2>

            <div class="chat">
                <div class="q">토큰화가 잘못되면 어떻게 돼?</div>
                <div class="a">
                    <p><span class="warning">AI가 엉뚱하게 이해할 수 있어.</span></p>
                </div>
            </div>

            <div class="code-block">문제 1: 공백 처리

잘못된 토큰화:
"아이스크림" → ["아이", "스크림"]
→ AI가 "어린이(아이)"와 "비명(스크림)"으로 이해할 수도 있음

올바른 토큰화:
"아이스크림" → ["아이스크림"]
→ 하나의 단어로 처리


문제 2: 언어별 차이

영어: "I love you" → ["I", " love", " you"] (3토큰)
한국어: "사랑해" → ["사랑", "해"] (2토큰)

→ 같은 의미인데 토큰 개수가 다름
→ 한국어가 영어보다 토큰 효율이 좋을 수도, 나쁠 수도 있음


문제 3: 서브워드의 함정

"unhappiness" → ["un", "happiness"]
→ 의미를 잘 이해함

"apple" → ["app", "le"]
→ 의미 없이 쪼개짐
→ AI는 "app"(앱)과 연관시킬 수도 있음
</div>

            <div class="chat">
                <div class="q">그럼 어떻게 해야 해?</div>
                <div class="a">
                    <p><span class="key-point">충분히 많은 데이터로 학습하는 게 답이야.</span></p>
                    <p>AI가 수십억 개 문장을 보면, 잘못된 쪼개기도 극복할 수 있어.</p>
                </div>
            </div>
        </div>

        <!-- Part 5: 실전에서 어떻게 써? -->
        <div class="conversation">
            <h2>Part 5. 실전 활용법</h2>

            <div class="chat">
                <div class="q">내가 토큰화를 직접 할 일이 있어?</div>
                <div class="a">
                    <p>API를 쓴다면 <span class="highlight">토큰 개수를 체크해야 해.</span></p>
                </div>
            </div>

            <div class="code-block">토큰 개수 확인하기:

Python에서 토큰 개수 세기:
```
import tiktoken

# GPT-4 토크나이저
encoding = tiktoken.encoding_for_model("gpt-4")

text = "안녕하세요! 오늘 날씨가 좋네요."
tokens = encoding.encode(text)

print(f"토큰 개수: {len(tokens)}")
print(f"토큰: {tokens}")
```

출력:
토큰 개수: 12
토큰: [31495, 30336, 0, 220, 31208, 31693, 34588, 30543, ...]


왜 중요한가?
1. 비용 예측 가능
2. 모델 입력 한계 체크 (GPT-4: 8K, 32K, 128K 토큰 제한)
3. 프롬프트 최적화 가능
</div>

            <div class="chat">
                <div class="q">토큰을 줄이는 팁은?</div>
            </div>

            <div class="code-block">토큰 최적화 팁:

1. 불필요한 공백 제거
   ❌ "안녕하세요   !   반갑습니다   ."
   ✅ "안녕하세요! 반갑습니다."

2. 중복 표현 제거
   ❌ "정말 진짜 완전 매우 너무 좋아요"
   ✅ "정말 좋아요"

3. 간결한 표현 사용
   ❌ "저는 오늘 아침에 일어나서 학교에 가는 중입니다"
   ✅ "학교 가는 중"

4. 약어 활용 (의미가 명확할 때만)
   ❌ "Artificial Intelligence"
   ✅ "AI"

→ 같은 의미를 전달하면서 토큰 50% 절약 가능
</div>
        </div>

        <!-- 핵심 정리 -->
        <div class="summary-box">
            <h3>핵심 정리</h3>
            <ul>
                <li><strong>토큰화</strong> - 문장을 작은 조각(토큰)으로 쪼개는 과정</li>
                <li><strong>세 가지 방법</strong> - 글자, 단어, 서브워드 단위 (현대 AI는 서브워드 사용)</li>
                <li><strong>BPE</strong> - ChatGPT 등이 사용하는 서브워드 토큰화 방식</li>
                <li><strong>토큰 = 비용</strong> - API 사용 시 토큰 개수로 비용 책정</li>
                <li><strong>최적화 필요</strong> - 불필요한 표현 제거해서 토큰 개수 줄이기</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../topic01/">← 이전: 컴퓨터는 문장을 어떻게 이해해?</a>
            <a href="../topic03/">다음: 원-핫 인코딩은 뭐야? →</a>
        </div>
    </div>
</body>
</html>
