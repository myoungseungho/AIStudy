<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미분이 AI에 왜 나와? - Section 2</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
        .breadcrumb { margin-bottom: 24px; font-size: 0.9rem; }
        .breadcrumb a { color: #666; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 8px; }
        .header { margin-bottom: 48px; }
        .topic-number {
            display: inline-block;
            background: #FF9800;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }
        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #FF9800;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #fff3e0;
        }
        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before { content: "Q. "; color: #e65100; font-weight: 700; }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }
        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #fff3e0;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #e65100;
        }
        .warning {
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c62828;
        }
        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9rem;
        }
        .compare-table th, .compare-table td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        .compare-table th {
            background: #f5f5f5;
            font-weight: 600;
        }
        .summary-box {
            background: linear-gradient(135deg, #FF9800 0%, #FFB74D 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 { font-size: 1.2rem; margin-bottom: 20px; }
        .summary-box ul { list-style: none; }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #fff3e0;
        }
        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a { color: #FF9800; text-decoration: none; font-weight: 500; }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../">AI 공부</a>
            <span>/</span>
            <a href="../">Section 2</a>
            <span>/</span>
            Topic 07
        </nav>

        <header class="header">
            <div class="topic-number">TOPIC 07</div>
            <h1>미분이 AI에 왜 나와?</h1>
            <p>Q. 기울기가 학습이랑 무슨 상관이야?</p>
        </header>

        <!-- Part 1: 미분이 뭔가 -->
        <div class="conversation">
            <h2>Part 1. 미분이 뭔데?</h2>

            <div class="chat">
                <div class="q">미분이 뭐야? 학교에서 배웠는데 기억이 안 나</div>
                <div class="a">
                    <p><span class="key-point">미분 = 순간 변화율 = 기울기</span></p>
                    <p>간단하게 말하면 <strong>"얼마나 빠르게 변하는가?"</strong>를 나타내는 거야.</p>
                </div>
            </div>

            <div class="code-block">직관적 이해:

속도 = 거리의 미분
- 1초에 5m 이동 → 속도 5m/s
- 거리가 빠르게 증가 → 기울기 큼 → 속도 빠름


함수의 미분:
f(x) = x²

x=2에서의 미분 = 4
→ x가 조금 증가하면 f(x)는 4배 빠르게 증가


표기:
df/dx  또는  f'(x)
→ "x로 미분한다"</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">핵심: 미분은 "방향과 속도"를 알려줘.</span></p>
                </div>
            </div>
        </div>

        <!-- Part 2: AI에서 왜 필요 -->
        <div class="conversation">
            <h2>Part 2. AI 학습에 왜 필요해?</h2>

            <div class="chat">
                <div class="q">AI 학습이랑 기울기가 무슨 상관이야?</div>
                <div class="a">
                    <p><span class="key-point">AI 학습 = 오차를 줄이는 방향 찾기</span></p>
                    <p>미분이 그 방향을 알려줘.</p>
                </div>
            </div>

            <div class="code-block">AI 학습 과정:

1. 예측 만들기
   예측: 5
   정답: 10
   오차: (10-5)² = 25

2. 오차를 줄이려면?
   → 가중치를 어느 방향으로 조정해야 할까?
   → 미분으로 알아냄!

3. 미분 계산
   오차 함수: L = (예측 - 정답)²

   미분: dL/dw
   → w를 증가시키면 오차가 증가하나 감소하나?

   - 양수: w 증가 → 오차 증가 (w를 줄여야 함)
   - 음수: w 증가 → 오차 감소 (w를 늘려야 함)

4. 가중치 업데이트
   w_new = w_old - 학습률 × (dL/dw)

   → 미분값의 반대 방향으로 이동!</div>

            <div class="chat">
                <div class="a">
                    <p>이해됐어?</p>
                    <p><span class="highlight">미분 = 개선 방향의 나침반</span></p>
                </div>
            </div>
        </div>

        <!-- Part 3: 편미분 -->
        <div class="conversation">
            <h2>Part 3. 편미분은 뭐야?</h2>

            <div class="chat">
                <div class="q">뉴럴 네트워크는 가중치가 수백만 개인데?</div>
                <div class="a">
                    <p><span class="key-point">편미분(Partial Derivative)</span>을 써.</p>
                    <p>하나씩 미분하는 거야.</p>
                </div>
            </div>

            <div class="code-block">편미분:

함수: f(x, y) = x² + 3xy + y²

x로 편미분 (y는 상수 취급):
∂f/∂x = 2x + 3y

y로 편미분 (x는 상수 취급):
∂f/∂y = 3x + 2y


AI에서:
손실함수 L(w1, w2, w3, ..., w1000000)

각 가중치로 편미분:
∂L/∂w1  → w1 조정 방향
∂L/∂w2  → w2 조정 방향
...
∂L/∂w1000000 → w1000000 조정 방향

→ 모든 가중치를 동시에 업데이트!</div>

            <div class="chat">
                <div class="a">
                    <p><strong>경사도(Gradient)</strong>는 모든 편미분을 모은 벡터야.</p>
                    <p>∇L = [∂L/∂w1, ∂L/∂w2, ..., ∂L/∂wn]</p>
                </div>
            </div>
        </div>

        <!-- Part 4: 체인룰 -->
        <div class="conversation">
            <h2>Part 4. 역전파는 뭐야?</h2>

            <div class="chat">
                <div class="q">딥러닝은 층이 여러 개인데 어떻게 미분해?</div>
                <div class="a">
                    <p><span class="key-point">체인룰(Chain Rule)</span>을 써.</p>
                    <p>연쇄적으로 미분하는 거야.</p>
                </div>
            </div>

            <div class="code-block">체인룰:

y = f(g(x))

dy/dx = (df/dg) × (dg/dx)

→ 바깥 미분 × 안쪽 미분


뉴럴 네트워크:

입력 → 층1 → 층2 → 층3 → 출력 → 손실

손실 L을 첫 번째 층 가중치 w1로 미분:

dL/dw1 = (dL/d출력) × (d출력/d층3) × (d층3/d층2)
         × (d층2/d층1) × (d층1/dw1)

→ 뒤에서부터 앞으로 미분 전파
→ 이게 "역전파(Backpropagation)"!</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">역전파 = 체인룰로 모든 층의 기울기 계산</span></p>
                    <p>이게 딥러닝 학습의 핵심이야.</p>
                </div>
            </div>
        </div>

        <!-- Part 5: 실제 예시 -->
        <div class="conversation">
            <h2>Part 5. 간단한 예시</h2>

            <div class="chat">
                <div class="q">구체적인 예를 보여줄래?</div>
                <div class="a">
                    <p>가장 간단한 선형 회귀로 볼게:</p>
                </div>
            </div>

            <div class="code-block">선형 회귀:

예측 함수: y = w × x + b
손실 함수: L = (예측 - 정답)² = (wx + b - y_true)²

데이터: x=2, y_true=7
현재: w=1, b=1
예측: 1×2 + 1 = 3
오차: (3-7)² = 16


미분:
∂L/∂w = 2(wx + b - y_true) × x
       = 2(3 - 7) × 2
       = 2×(-4)×2 = -16

∂L/∂b = 2(wx + b - y_true) × 1
       = 2(3 - 7)
       = -8


업데이트 (학습률 0.01):
w_new = w - 0.01 × (-16) = 1 + 0.16 = 1.16
b_new = b - 0.01 × (-8) = 1 + 0.08 = 1.08


새 예측: 1.16×2 + 1.08 = 3.4
새 오차: (3.4-7)² = 12.96

→ 오차가 16에서 12.96으로 감소!</div>

            <div class="chat">
                <div class="a">
                    <p>이 과정을 수천 번 반복하면</p>
                    <p><span class="key-point">오차가 0에 가까워지고 정확한 예측을 하게 돼.</span></p>
                </div>
            </div>
        </div>

        <!-- Part 6: 코드 -->
        <div class="conversation">
            <h2>Part 6. 파이썬에서는?</h2>

            <div class="chat">
                <div class="q">직접 미분을 계산해야 해?</div>
                <div class="a">
                    <p><span class="warning">아니.</span> 프레임워크가 자동으로 해줘.</p>
                </div>
            </div>

            <div class="code-block">PyTorch 예시:

import torch

# 텐서 생성 (자동 미분 활성화)
x = torch.tensor(2.0, requires_grad=True)
w = torch.tensor(1.0, requires_grad=True)
b = torch.tensor(1.0, requires_grad=True)

# 순전파
y_pred = w * x + b
y_true = torch.tensor(7.0)
loss = (y_pred - y_true) ** 2

print(f"예측: {y_pred.item()}")  # 3.0
print(f"손실: {loss.item()}")    # 16.0

# 역전파 (자동 미분!)
loss.backward()

print(f"∂L/∂w: {w.grad}")  # -16.0
print(f"∂L/∂b: {b.grad}")  # -8.0

# 가중치 업데이트
learning_rate = 0.01
with torch.no_grad():
    w -= learning_rate * w.grad
    b -= learning_rate * b.grad

print(f"새 w: {w.item()}")  # 1.16
print(f"새 b: {b.item()}")  # 1.08</div>

            <div class="chat">
                <div class="a">
                    <p>보이지?</p>
                    <p><span class="highlight">loss.backward() 한 줄로 모든 미분이 자동 계산돼.</span></p>
                    <p>이게 딥러닝 프레임워크의 핵심 기능이야.</p>
                </div>
            </div>
        </div>

        <!-- 핵심 정리 -->
        <div class="summary-box">
            <h3>핵심 정리</h3>
            <ul>
                <li><strong>미분 = 변화율 = 기울기</strong> - 얼마나 빠르게 변하는가</li>
                <li><strong>AI 학습의 핵심</strong> - 오차를 줄일 방향을 알려줌</li>
                <li><strong>편미분으로 다변수 처리</strong> - 가중치별로 하나씩 미분</li>
                <li><strong>체인룰 = 역전파</strong> - 여러 층을 연쇄적으로 미분</li>
                <li><strong>경사도(Gradient)</strong> - 모든 편미분을 모은 벡터</li>
                <li><strong>자동 미분</strong> - PyTorch/TensorFlow가 알아서 계산</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../topic06/">← 이전: 차원이 뭐야?</a>
            <a href="../topic08/">다음: 경사하강법이 뭐야? →</a>
        </div>
    </div>
</body>
</html>
