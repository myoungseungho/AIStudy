<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>훈련 데이터와 테스트 데이터는 왜 나눠? - Section 3</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }

        .breadcrumb {
            margin-bottom: 24px;
            font-size: 0.9rem;
        }
        .breadcrumb a { color: #666; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 8px; }

        .header { margin-bottom: 48px; }
        .topic-number {
            display: inline-block;
            background: #2196F3;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }

        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #2196F3;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e3f2fd;
        }

        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before { content: "Q. "; color: #e65100; font-weight: 700; }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }

        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #bbdefb;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #0d47a1;
        }
        .warning {
            background: #ffcdd2;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #c62828;
        }

        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .summary-box {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 { font-size: 1.2rem; margin-bottom: 20px; }
        .summary-box ul { list-style: none; }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #bbdefb;
        }

        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a {
            color: #2196F3;
            text-decoration: none;
            font-weight: 500;
        }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../">AI 공부</a>
            <span>/</span>
            <a href="../">Section 3</a>
            <span>/</span>
            Topic 06
        </nav>

        <header class="header">
            <div class="topic-number">TOPIC 06</div>
            <h1>훈련 데이터와 테스트 데이터는 왜 나눠?</h1>
            <p>Q. 시험 문제를 미리 보면 안 되는 이유는?</p>
        </header>

        <div class="conversation">
            <h2>Part 1. 시험 문제를 미리 보면 안 돼</h2>

            <div class="chat">
                <div class="q">데이터를 훈련용과 테스트용으로 나눈다고? 왜 그래야 해?</div>
                <div class="a">
                    <p><span class="key-point">진짜 실력을 확인하려면 "처음 보는 문제"로 시험봐야지.</span></p>
                    <p>학교 시험으로 비유해볼게.</p>
                </div>
            </div>

            <div class="code-block">잘못된 시험:

선생님: "시험 문제는 이 10개야"
학생: "네!" (문제 10개 달달 외움)
시험날: 똑같은 문제 10개 출제
학생: 100점!

→ 근데 이게 진짜 실력이야?
→ 아니지. 그냥 외운 거잖아.


올바른 시험:

선생님: "이 100개로 공부해" (훈련 데이터)
학생: 열심히 공부
시험날: 완전히 새로운 10개 문제 (테스트 데이터)
학생: 90점

→ 이게 진짜 실력이야.
→ 처음 보는 문제도 풀 수 있으니까.</div>

            <div class="chat">
                <div class="a">
                    <p>이해됐어?</p>
                    <p><span class="highlight">훈련 데이터로 배우고, 테스트 데이터로 진짜 실력을 평가하는 거야.</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 2. 데이터를 어떻게 나눠?</h2>

            <div class="chat">
                <div class="q">그럼 몇 대 몇으로 나누는 게 좋아?</div>
                <div class="a">
                    <p><span class="key-point">보통 8:2 또는 7:3으로 나눠.</span></p>
                </div>
            </div>

            <div class="code-block">일반적인 분할 비율:

전체 데이터: 1000개

방법1: 8:2 분할
→ 훈련 데이터: 800개 (80%)
→ 테스트 데이터: 200개 (20%)


방법2: 7:3 분할
→ 훈련 데이터: 700개 (70%)
→ 테스트 데이터: 300개 (30%)


왜 이렇게?
- 훈련 데이터는 많을수록 좋아 (학습 품질 향상)
- 테스트 데이터도 어느 정도는 있어야 신뢰할 수 있음
- 8:2가 가장 많이 쓰는 황금 비율</div>

            <div class="chat">
                <div class="q">그럼 9:1은 안 돼?</div>
                <div class="a">
                    <p>가능은 한데, <span class="warning">테스트 데이터가 너무 적으면 평가가 불안정해.</span></p>
                    <p>반대로 5:5는 훈련 데이터가 부족해서 AI가 제대로 못 배워.</p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 3. 랜덤하게 섞어야 해</h2>

            <div class="chat">
                <div class="q">그냥 앞에서 80%, 뒤에서 20% 나누면 안 돼?</div>
                <div class="a">
                    <p><span class="warning">절대 안 돼!</span> 반드시 <strong>랜덤하게 섞어서</strong> 나눠야 해.</p>
                </div>
            </div>

            <div class="code-block">잘못된 분할:

고양이 사진 500개, 개 사진 500개 (순서대로 정렬됨)

앞 800개 → 훈련 데이터
뒤 200개 → 테스트 데이터

문제:
→ 훈련 데이터: 고양이 500개 + 개 300개
→ 테스트 데이터: 개 200개만!

AI: "개만 보고 테스트하네? 고양이는 어디 갔어?"
→ 평가가 의미 없음


올바른 분할:

1. 데이터를 랜덤하게 섞기 (셔플)
2. 섞인 상태에서 8:2로 나누기

결과:
→ 훈련 데이터: 고양이 400개 + 개 400개
→ 테스트 데이터: 고양이 100개 + 개 100개

→ 비율이 맞아! 공정한 평가 가능</div>

            <div class="chat">
                <div class="a">
                    <p><span class="key-point">무조건 랜덤하게 섞어서 나눠야 해.</span></p>
                    <p>안 그러면 편향된 평가가 나와.</p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 4. 절대 섞이면 안 돼</h2>

            <div class="chat">
                <div class="q">나눈 다음에는 어떻게 해?</div>
                <div class="a">
                    <p><span class="warning">훈련과 테스트를 절대 섞으면 안 돼.</span></p>
                    <p>이걸 <strong>데이터 누수(Data Leakage)</strong>라고 해.</p>
                </div>
            </div>

            <div class="code-block">데이터 누수 예시:

잘못된 방법:
1. 데이터 전처리 (평균 계산 등)
2. 훈련/테스트 분리
3. 학습

문제: 테스트 데이터 정보가 전처리에 포함됨!


올바른 방법:
1. 훈련/테스트 먼저 분리
2. 훈련 데이터만으로 전처리
3. 학습
4. 테스트 데이터에 같은 전처리 적용

→ 테스트는 "완전히 처음 보는" 상태여야 함</div>

            <div class="chat">
                <div class="a">
                    <p>비유하면:</p>
                    <p><strong>시험 문제를 미리 보고 공부하면 안 되는 것처럼,</strong></p>
                    <p><strong>테스트 데이터 정보가 훈련에 새면 안 돼.</strong></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 5. 테스트 결과로 뭘 알 수 있어?</h2>

            <div class="chat">
                <div class="q">테스트 데이터로 평가하면 뭘 알 수 있는데?</div>
                <div class="a">
                    <p><strong>AI의 진짜 성능</strong>을 알 수 있어.</p>
                </div>
            </div>

            <div class="code-block">평가 예시:

고양이/개 분류 AI

훈련 데이터 평가:
→ 정확도 99%
"오, 잘 배웠네!"

테스트 데이터 평가:
→ 정확도 95%
"실제로는 95% 성능이구나"


만약 차이가 크면?

훈련: 99%, 테스트: 60%
→ 과적합! (훈련 데이터만 외운 거)
→ 실전에서는 못 써먹음

훈련: 95%, 테스트: 94%
→ 일반화 성공! (새로운 데이터도 잘 맞춤)
→ 실전에서 쓸 만함</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">테스트 성능이 진짜 성능이야.</span></p>
                    <p>훈련 성능은 참고만 하고, 테스트 성능으로 판단해야 해.</p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 6. 실전 코드 예시</h2>

            <div class="chat">
                <div class="q">실제로는 어떻게 나눠?</div>
                <div class="a">
                    <p>파이썬에서는 이렇게 간단하게 나눌 수 있어.</p>
                </div>
            </div>

            <div class="code-block">from sklearn.model_selection import train_test_split

# 데이터와 정답
X = [이미지1, 이미지2, ..., 이미지1000]  # 데이터
y = [고양이, 개, ..., 고양이]              # 정답

# 8:2로 나누기 (자동으로 셔플됨)
X_train, X_test, y_train, y_test = train_test_split(
    X, y,
    test_size=0.2,      # 테스트 20%
    random_state=42     # 랜덤 시드 (재현성 위해)
)

# 결과:
# X_train: 800개 (훈련용 데이터)
# X_test: 200개 (테스트용 데이터)
# y_train: 800개 (훈련용 정답)
# y_test: 200개 (테스트용 정답)

# 이제 훈련 시작
model.train(X_train, y_train)

# 테스트로 평가
score = model.test(X_test, y_test)
print(f"정확도: {score}%")</div>

            <div class="chat">
                <div class="a">
                    <p>이렇게 한 줄로 간단하게 나눌 수 있어.</p>
                    <p>라이브러리가 알아서 섞고, 나누고, 해줘.</p>
                </div>
            </div>
        </div>

        <div class="summary-box">
            <h3>핵심 정리</h3>
            <ul>
                <li><strong>훈련/테스트 분리 필수</strong> - 처음 보는 데이터로 평가해야 진짜 실력</li>
                <li><strong>8:2 비율</strong> - 보통 훈련 80%, 테스트 20%로 나눔</li>
                <li><strong>랜덤 셔플</strong> - 반드시 섞어서 나눠야 공정한 평가</li>
                <li><strong>데이터 누수 방지</strong> - 테스트 데이터 정보가 훈련에 새면 안 됨</li>
                <li><strong>테스트 성능이 진짜</strong> - 훈련 성능은 참고용, 테스트로 최종 판단</li>
                <li><strong>차이가 크면 과적합</strong> - 훈련과 테스트 성능 차이를 확인해야 함</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../topic05/">← 이전: 분류와 회귀는 뭐가 달라?</a>
            <a href="../topic07/">다음: 과적합이 뭐야? →</a>
        </div>
    </div>
</body>
</html>
