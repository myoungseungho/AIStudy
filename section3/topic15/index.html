<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>k-최근접 이웃은 뭐야? - Section 3</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            color: #333;
            line-height: 1.9;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
        .breadcrumb { margin-bottom: 24px; font-size: 0.9rem; }
        .breadcrumb a { color: #666; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .breadcrumb span { color: #999; margin: 0 8px; }
        .header { margin-bottom: 48px; }
        .topic-number {
            display: inline-block;
            background: #2196F3;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .header h1 { font-size: 2rem; font-weight: 700; color: #111; margin-bottom: 12px; }
        .header p { color: #666; font-size: 1.1rem; }
        .conversation {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin: 32px 0;
            border: 1px solid #e0e0e0;
        }
        .conversation h2 {
            font-size: 1.3rem;
            color: #2196F3;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e3f2fd;
        }
        .chat { margin-bottom: 20px; }
        .q {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 16px 20px;
            margin: 16px 0;
            border-radius: 0 12px 12px 0;
            font-weight: 500;
        }
        .q::before { content: "Q. "; color: #e65100; font-weight: 700; }
        .a {
            padding: 8px 0 8px 20px;
            border-left: 4px solid #e0e0e0;
            margin: 12px 0;
        }
        .a p { margin-bottom: 12px; }
        .a p:last-child { margin-bottom: 0; }
        .highlight {
            background: #e3f2fd;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #1565c0;
        }
        .key-point {
            background: #bbdefb;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            color: #0d47a1;
        }
        .code-block {
            background: #263238;
            border-radius: 8px;
            padding: 16px 20px;
            margin: 16px 0;
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            color: #eceff1;
            overflow-x: auto;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        .summary-box {
            background: linear-gradient(135deg, #2196F3 0%, #42A5F5 100%);
            border-radius: 16px;
            padding: 32px;
            color: white;
            margin: 32px 0;
        }
        .summary-box h3 { font-size: 1.2rem; margin-bottom: 20px; }
        .summary-box ul { list-style: none; }
        .summary-box li {
            padding: 8px 0;
            padding-left: 24px;
            position: relative;
        }
        .summary-box li::before {
            content: "→";
            position: absolute;
            left: 0;
            color: #bbdefb;
        }
        .nav-links {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            padding-top: 24px;
            border-top: 1px solid #e0e0e0;
        }
        .nav-links a {
            color: #2196F3;
            text-decoration: none;
            font-weight: 500;
        }
        .nav-links a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../">AI 공부</a>
            <span>/</span>
            <a href="../">Section 3</a>
            <span>/</span>
            Topic 15
        </nav>

        <header class="header">
            <div class="topic-number">TOPIC 15</div>
            <h1>k-최근접 이웃은 뭐야?</h1>
            <p>Q. 비슷한 것들끼리 묶는다는 거야?</p>
        </header>

        <div class="conversation">
            <h2>Part 1. 친구를 보면 너를 알 수 있다</h2>

            <div class="chat">
                <div class="q">k-최근접 이웃(k-Nearest Neighbors, KNN)이 뭐야? 이름이 너무 길어</div>
                <div class="a">
                    <p><span class="key-point">KNN = 가장 가까운 k개를 보고 판단</span></p>
                    <p>"유유상종"이라는 말 들어봤지? 그 원리야.</p>
                </div>
            </div>

            <div class="code-block">비유: 새 학생 분류하기

반에 새로운 학생이 전학왔어.
"이 학생은 운동파? 공부파?"

방법1: 복잡한 규칙 만들기
→ "키가 크고, 체육시간 좋아하면..."

방법2: KNN
→ 이 학생과 가장 비슷한 친구 3명 보기
→ 친구1: 운동파
→ 친구2: 운동파
→ 친구3: 공부파
→ 투표: 2 vs 1
→ 결론: 운동파!


"친구를 보면 너를 알 수 있다"
→ 가까운 이웃을 보면 너도 알 수 있다!</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">KNN은 "비슷한 애들이 뭔지" 보고 판단하는 가장 직관적인 알고리즘</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 2. 어떻게 작동해?</h2>

            <div class="chat">
                <div class="q">구체적으로 어떻게 하는 건데?</div>
                <div class="a">
                    <p>단계가 정말 간단해.</p>
                </div>
            </div>

            <div class="code-block">KNN 알고리즘 (k=3):

훈련 데이터:
학생A: 키 180cm, 몸무게 75kg → 운동파
학생B: 키 165cm, 몸무게 55kg → 공부파
학생C: 키 175cm, 몸무게 70kg → 운동파
학생D: 키 160cm, 몸무게 50kg → 공부파
학생E: 키 178cm, 몸무게 72kg → 운동파


새 학생: 키 170cm, 몸무게 65kg → ?

Step 1: 모든 훈련 데이터와의 거리 계산
학생A: √((180-170)² + (75-65)²) = 14.1
학생B: √((165-170)² + (55-65)²) = 11.2
학생C: √((175-170)² + (70-65)²) = 7.1
학생D: √((160-170)² + (50-65)²) = 18.0
학생E: √((178-170)² + (72-65)²) = 10.6

Step 2: 가까운 순서대로 정렬
1위: 학생C (7.1) → 운동파
2위: 학생E (10.6) → 운동파
3위: 학생B (11.2) → 공부파

Step 3: k=3개 이웃 투표
운동파: 2표
공부파: 1표

결과: 운동파!</div>

            <div class="chat">
                <div class="a">
                    <p><span class="key-point">거리 계산 → 정렬 → 투표. 끝!</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 3. k를 어떻게 정해?</h2>

            <div class="chat">
                <div class="q">k는 어떻게 정하는 거야? 3이 좋아, 5가 좋아?</div>
                <div class="a">
                    <p><span class="key-point">k 선택이 성능을 크게 좌우해.</span></p>
                </div>
            </div>

            <div class="code-block">k 값의 영향:

k=1 (가장 가까운 1개만):
→ 장점: 훈련 데이터 100% 정확
→ 단점: 노이즈에 민감, 과적합

예: 운동파 99명, 공부파 1명 지역
→ 공부파 1명이 우연히 가까우면
→ 공부파로 분류 (잘못됨!)


k=100 (가까운 100개):
→ 장점: 안정적
→ 단점: 너무 뭉뚱그림, 과소적합

예: 전체의 다수만 반영
→ 세세한 패턴 못 잡음


k=5~10 (적당히):
→ 밸런스 좋음
→ 보통 홀수 선택 (동점 방지)


k 선택 방법:
1. 교차 검증으로 여러 k 시도
2. k=1, 3, 5, 7, 9... 테스트
3. 검증 성능 가장 높은 k 선택

일반적: k = √n (n = 데이터 수)</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">k가 너무 작으면 과적합, 너무 크면 과소적합</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 4. 거리 측정 방법</h2>

            <div class="chat">
                <div class="q">"거리"는 어떻게 재?</div>
                <div class="a">
                    <p>여러 방법이 있어.</p>
                </div>
            </div>

            <div class="code-block">거리 측정 방법:

1. 유클리드 거리 (Euclidean)
→ 직선 거리 (피타고라스)
→ √((x₁-x₂)² + (y₁-y₂)²)
→ 가장 많이 사용


2. 맨해튼 거리 (Manhattan)
→ 격자 거리 (택시 거리)
→ |x₁-x₂| + |y₁-y₂|
→ 도시 블록처럼 직각 이동


3. 코사인 유사도 (Cosine)
→ 각도로 측정
→ 텍스트 비교에 좋음


예시:
점A(0, 0), 점B(3, 4)

유클리드: √(3² + 4²) = 5
맨해튼: |3| + |4| = 7


주의:
특징 스케일링 필수!
→ 키(cm)와 몸무게(kg) 단위 다름
→ 정규화 안 하면 큰 특징이 지배</div>

            <div class="chat">
                <div class="a">
                    <p><span class="key-point">스케일링 안 하면 KNN은 망한다!</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 5. 장점과 단점</h2>

            <div class="chat">
                <div class="q">KNN은 언제 좋고 언제 나빠?</div>
                <div class="a">
                    <p>명확한 장단점이 있어.</p>
                </div>
            </div>

            <div class="code-block">KNN 장점:

1. 간단함
→ 이해하기 쉬움
→ 구현 쉬움

2. 학습 불필요
→ 훈련 데이터 그대로 저장
→ "Lazy Learning"

3. 다목적
→ 분류도 됨
→ 회귀도 됨 (이웃 평균)

4. 비선형 경계
→ 복잡한 패턴 포착 가능


KNN 단점:

1. 느림 (치명적!)
→ 예측할 때마다 전체 데이터와 거리 계산
→ 데이터 많으면 엄청 느림

데이터 100만 개?
→ 매번 100만 번 거리 계산
→ 실전에서 못 씀!

2. 메모리 많이 씀
→ 모든 훈련 데이터 저장
→ 모델이 없고 데이터가 모델

3. 차원의 저주
→ 특징 많으면 성능 급락
→ 고차원에서 거리 의미 없어짐

4. 불균형 데이터 약함
→ 다수 클래스가 항상 이김</div>

            <div class="chat">
                <div class="a">
                    <p><span class="highlight">간단하지만 느려서, 실전에서는 잘 안 써</span></p>
                </div>
            </div>
        </div>

        <div class="conversation">
            <h2>Part 6. 언제 쓰고 개선 방법</h2>

            <div class="chat">
                <div class="q">그럼 KNN은 언제 써?</div>
                <div class="a">
                    <p>제한적인 상황에서만 써.</p>
                </div>
            </div>

            <div class="code-block">KNN 활용:

좋은 경우:
✓ 데이터가 적음 (수천 개 이하)
✓ 빠른 프로토타입
✓ 패턴이 국소적 (비슷한 것끼리 뭉쳐있음)
✓ 베이스라인 모델

나쁜 경우:
✗ 데이터 많음 (수만 개 이상)
✗ 실시간 예측 필요
✗ 메모리 제한
✗ 고차원 데이터


개선 방법:

1. KD-Tree, Ball-Tree
→ 거리 계산 빠르게
→ 하지만 여전히 한계

2. 차원 축소
→ PCA로 특징 줄이기
→ 중요한 것만 남기기

3. 근사 KNN
→ 정확도 조금 포기
→ 속도 크게 향상

4. 다른 알고리즘 사용
→ 랜덤 포레스트
→ 딥러닝
→ 더 빠르고 정확</div>

            <div class="chat">
                <div class="a">
                    <p><span class="key-point">KNN은 "이론적으로 간단하지만 실전에서는 제한적"</span></p>
                    <p>머신러닝 입문용으로는 최고지만, 실무에서는 다른 알고리즘 선호해.</p>
                </div>
            </div>
        </div>

        <div class="summary-box">
            <h3>핵심 정리</h3>
            <ul>
                <li><strong>가장 직관적</strong> - 비슷한 이웃을 보고 판단</li>
                <li><strong>거리 계산 → 정렬 → 투표</strong> - 3단계로 끝</li>
                <li><strong>k 선택 중요</strong> - 너무 작으면 과적합, 너무 크면 과소적합</li>
                <li><strong>스케일링 필수</strong> - 특징 크기 안 맞추면 망함</li>
                <li><strong>Lazy Learning</strong> - 학습 없이 데이터만 저장</li>
                <li><strong>느림이 단점</strong> - 데이터 많으면 실전 사용 어려움</li>
            </ul>
        </div>

        <div class="nav-links">
            <a href="../topic14/">← 이전: 의사결정나무는 어떻게 결정해?</a>
            <a href="../">목록으로 →</a>
        </div>
    </div>
</body>
</html>
